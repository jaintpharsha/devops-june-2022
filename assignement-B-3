pipeline {
	agent any	
	
	parameters {
        choice(name: 'STAGE', choices: ['build','deploy','test'], description: 'Stages to build')
    }
	
	stages {
		stage ('BUILD') {
			steps {
				script {
					when { 
						params.STAGE: 'build' 
							echo "This is build stage"
							sleep 5
						}
					}
				}
			}
		
		stage ('DEPLOY') {
			steps {
				script {
					when {
						params.STAGE: 'deploy'
						echo "This is deploy stage"
						sleep 5
						}
					}
				}
			}
		stage ('TEST') {
			steps {
				script {
					when {
						params.STAGE: 'test'
						echo "This is test stage"
						sleep 5
						}
					}
				}
			}
		}
	}
